\chapter{วิธีการดำเนินการวิจัย}
\label{chapter:experiment}

\section{ความต้องการของระบบ}

หลังจากที่ได้สอบถามผู้ใช้งานและที่ปรึกษาระบบบีบราส พวกเรานั้นได้ความต้องการออกมาเป็นสองระบบ มีรายละเอียดดังนี้

\subsection{ระบบสามารถแสดงสถิติได้}

ระบบจะต้องสามารถแสดงสถิติการแข่งขันทุกครั้งที่ผ่านมาได้
โดยจะต้องสามารถดูสถิติการแข่งขันทดสอบทักษะการคิดเชิงคำนวณได้ทั้งระดับมัธยมต้นและมัธยมปลายของโรงเรียนของผู้ใช้งานได้
และจะต้องสามารถแสดงสถิติการแข่งขันโดยรวมของโรงเรียนทั้งหมดได้

\subsection{ระบบจัดการรายชื่อของผู้สมัคร}

ระบบจัดการรายชื่อของผู้สมัครแบ่งเป็น 2 ระบบย่อย ได้แก่

\begin{enumerate}
    \item ระบบจะต้องสามารถเพิ่มข้อมูลของผู้สมัครลงในฐานข้อมูลได้
    \item ระบบจะต้องสามารถลบข้อมูลของผู้สมัครออกจากฐานข้อมูลได้
    % \item ระบบจะต้องสามารถแก้ไขข้อมูลของผู้สมัครได้
\end{enumerate}

\section{คำอธิบายของระบบ}

ระบบแสดงสถิติและจัดการรายชื่อของผู้สมัครแข่งขันทดสอบทักษะการคิดเชิงคำนวณแบ่งออกเป็น 2 ส่วน ได้แก่

\begin{enumerate}
    \item \textbf{ส่วนแสดงสถิติการแข่งขัน} ผู้ใช้สามารถเลือกที่การ์ดการแข่งขัน (Contest) เพื่อให้แสดงข้อมูลการแข่งขันได้โดยเบื้องต้นระบบจะแสดงเป็นข้อมูลสถิติการแข่งขันทั้งหมดและข้อมูลสถิติการแข่งขันของโรงเรียนของผู้ใช้งาน โดยผู้ใช้สามารถเลือกที่จะค้นหา (Search) สถิติการแข่งขันของแต่ละโรงเรียนหรือแต่ละบุคคลได้ เมื่อทำการค้นหา ระบบจะแสดงข้อมูลสถิติตามการค้นหานั้น
    \item \textbf{จัดการรายชื่อของผู้สมัครแข่งขัน} ในกรณีที่ผู้ใช้งานคือผู้ดูแลระบบ (Admin) หรือผู้ใช้งานเป็นผู้ประสานงาน (Coordinator) สามารถเลือกที่การ์ดนักเรียน (Student) เพื่อจัดการกับรายชื่อนักเรียนได้
\end{enumerate}

\newpage

\section{การออกแบบระบบจากความต้องการ}
\subsection{ภาพรวมของระบบ}

ในระบบแสดงสถิติและจัดการรายชื่อของผู้สมัครแข่งขันทดสอบทักษะการคิดเชิงคำนวณได้ใช้โครงสร้างการทำงานแบบไมโครเซอร์วิส (Microservices) \cite{WhatAreMicroservices} เพื่อให้สามารถแยกส่วนการนำส่งระบบ (Deployment) ได้ง่าย โดยมีโครงสร้างการออกแบบดังแสดงในรูปที่ \ref{fig:simplified-system-overview-diagram}

\begin{figure}[H]
    \centering
    \includegraphics[width=125mm,scale=1.0]{diagrams/simplified-system-overview-diagram.png}
    \caption{ภาพรวมของระบบอย่างง่าย}
    \label{fig:simplified-system-overview-diagram}
\end{figure}

\textbf{คำอธิบาย}

สำหรับแต่ละ Use Case เว็บจะสร้างการร้องขอไปที่ API แต่ละตัว เพื่อให้สามารถทำงานได้ตามความต้องการของระบบ และสามารถอ่าน-เขียนข้อมูลลงไปที่ฐานข้อมูลสัมพันธ์ได้

\newpage

\subsection{แผนภาพแสดงการทำงานของผู้ใช้ระบบ (Use Case Diagram)}

ทางผู้จัดทำระบบแสดงสถิติและจัดการรายชื่อของผู้สมัครแข่งขันทดสอบทักษะการคิดเชิงคำนวณ ได้สกัดความต้องการออกมาเป็น Use Case ทั้งหมด 8 อัน โดยจะแบ่งเป็น 2 บทบาทการใช้งาน คือ ผู้ประสานงานและผู้ดูแลระบบ ดังแสดงในรูปที่ \ref{fig:use-case-diagram}

\begin{figure}[H]
    \centering
    \includegraphics[width=100mm,scale=1.0]{diagrams/use-case-diagram.png}
    \caption{แผนภาพแสดงการทำงานของผู้ใช้ระบบจัดการแข่งขันบีบราส}
    \label{fig:use-case-diagram}
\end{figure}

\newpage

\subsection{Use Case Specification}

\input{tables/usecase-search-student}
\input{tables/usecase-read-student}
\input{tables/usecase-remove-student}
\input{tables/usecase-create-student}
\input{tables/usecase-create-batch-student}
\input{tables/usecase-read-contest}
\input{tables/usecase-create-contest}
\input{tables/usecase-remove-contest}

\newpage

\section{โครงสร้างฐานข้อมูลในระบบ (Database Schema)}

จากความต้องการของระบบแสดงสถิติและจัดการรายชื่อของผู้สมัครแข่งขันทดสอบทักษะการคิดเชิงคำนวณ สามารถสร้างออกมาเป็นฐานข้อมูลระดับโครงสร้าง ดังแสดงในรูปที่ \ref{fig:physical-database-diagram}

\begin{figure}[H]
    \centering
    \includegraphics[width=120mm,scale=1.0]{diagrams/database.png}
    \caption{แผนภาพข้อมูลระดับโครงสร้างของฐานข้อมูลในระบบ}
    \label{fig:physical-database-diagram}
\end{figure}

\newpage

\section{พจนานุกรมข้อมูล (Data Dictionary)}

\subsection{ตารางข้อมูลในระบบ}
\input{tables/database}

\subsection{พจนานุกรมข้อมูลของตาราง}
\input{tables/database-contests}
\input{tables/database-grades}
\input{tables/database-schools}
\input{tables/database-students}
\input{tables/database-systems}
\input{tables/database-users}
\input{tables/database-coordinators}
\input{tables/database-contest-allow-grades}
\input{tables/database-attempts}
\input{tables/database-attempt-details}
\input{tables/database-participates}
\input{tables/database-questions}

